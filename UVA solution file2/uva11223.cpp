#include<bits/stdc++.h>
using namespace std;
int main()
{
    map<string,char>m;

    m[".-"]='A';
    m["-..."]='B',m["-.-."]='C',m["-.."]='D';m["."]='E';m["..-."]='F',m["--."]='G',m["...."]='H',m[".."]='I',
    m[".---"]='J',

    m["-.-"]='K',m[".-.."]='L',m["--"]='M',m["-."]='N',m["---"]='O',m[".--."]='P',m["--.-"]='Q',m[".-."]='R';
    m["..."]='S',m["-"]='T',

    m["..-"]='U',m["...-"]='V',m[".--"]='W',m["-..-"]='X',m["-.--"]='Y',m["--.."]='Z';
    m["-----"]='0',m[".----"]='1',m["..---"]='2',m["...--"]='3',m["....-"]='4',m["....."]='5',

    m["-...."]='6',m["--... "]='7',m["---.."]='8',m["----."]='9',m[".-.-.-"]='.',m["--..--"]=',',m["..--.."]='?',
    m[".----."]='\'',m["-.-.--"]='!',m["-..-."]='/',
    m["-.-."]='(',m["-.--.-"]=')',m[".-..."]='&',m["---..."]=':',m["-.-.-."]=';',m["-...-"]='=',m[".-.-."]='+',
    m["-....-"]='-';
    m["..--.-"]='_';
    m[".-..-."]='"';
    m[".--.-."]='@';


    int t;
    string str;
    string str1;
    scanf("%d",&t);
    getchar();
    for(int i=1;i<=t;i++)
    {
       getline(cin,str);
       printf("Message #%d\n",i);

       for(int j=0;i<str.size()-1;j++)
       {
           if(str[j]==' '&&str[j+1]==' ')
           {
               printf(" ");
               j=j+2;
               if(str1.size()!=0)
               {
                   cout<<m[str1];
                   str1.clear();
               }

           }
           else if(str[j]==' '&&str[j+1]!=' ')
           {
               cout<<m[str1];
               str1.clear();
           }
           else
            str1+=str[j];
       }
       str1+=str[str.size()-1];
       cout<<m[str1]<<endl;
       str1.clear();

    }
}
